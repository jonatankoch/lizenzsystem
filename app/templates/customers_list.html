{% extends "base.html" %}

{% block title %}Kunden{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="mb-0">Kunden</h1>
  <a href="/customers/new" class="btn btn-primary">Neuer Kunde</a>
</div>

<form method="get" action="/customers" class="row g-2 mb-3">
  <div class="col-md-4">
    <input type="text"
           name="q"
           class="form-control"
           placeholder="Suche nach Name, Kundennummer, Kontakt..."
           value="{{ q or '' }}">
  </div>
  <div class="col-md-2">
    <button type="submit" class="btn btn-outline-secondary w-100">Suchen</button>
  </div>
  {% if q %}
  <div class="col-md-2">
    <a href="/customers" class="btn btn-outline-light border w-100">Zur√ºcksetzen</a>
  </div>
  {% endif %}
</form>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Kundennummer</th>
      <th>Name</th>
      <th>Kontakt</th>
      <th>E-Mail</th>
      <th>Telefon</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for c in customers %}
    <tr>
      <td>{{ c.customer_number }}</td>
      <td>{{ c.name }}</td>
      <td>{{ c.contact_name or '' }}</td>
      <td>{{ c.contact_email or '' }}</td>
      <td>{{ c.contact_phone or '' }}</td>
      <td class="text-end">
        <a href="/customers/{{ c.id }}" class="btn btn-sm btn-outline-primary">Details</a>
      </td>
    </tr>
    {% endfor %}
    {% if not customers %}
    <tr>
      <td colspan="6" class="text-center text-muted">
        Keine Kunden gefunden.
      </td>
    </tr>
    {% endif %}
  </tbody>
</table>
{% endblock %}
